Heap	堆

	通过new关键字,创建对象都会使用堆内存

	特点:	
		是线程共享的,堆中对象都要考虑线程安全问题
		
		有垃圾回收机制


	堆内存溢出	OutOfMemoryError

		例:	String a="hello";
			while(true){
				list.add(a);
				a=a+a;
			}

		垃圾回收是只有在变量不再使用的时候才会回收,在使用的不回收
		一般都是过了变量的作用范围就销毁


	堆空间内存默认	4G,	可以用 -Xmx100m 设置大小为100m

	堆内存诊断
		
		jps工具
			查看当前系统中有哪些java进程
		jmap工具
			查看堆内存占用情况(查询某一时刻内存占用)

			jmap -heap 线程id		检查堆内存占用	
				

		jconsole工具
			图形界面的,多功能的监测工具,可以连续监测
			堆内存,cpu,线程,进程,都能监测

		jvisualvm工具
			可视化界面展示虚拟机内容
			高版本jdk没有这个工具了，需要自己下载,JDK9之后就不支持了

		
	案例:	垃圾回收后,内存占用依然很高
		
		用jvisualvm工具中dump功能



		
		