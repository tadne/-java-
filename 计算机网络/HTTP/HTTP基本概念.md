# HTTP基本概念



## HTTP是什么
HTTP是超文本传输协议，也就是HyperText Transfer Protocol

可以分为三个部分：**超文本、传输、协议**

### 协议
- **HTTP是计算机世界的协议，用计算机能理解的语言确定了一种计算机间通信的规范，以及相关的各种控制和错误处理的方式**

### 传输
- HTTP是一个双向协议
  - 例如： 浏览器输入网址后，浏览器就是请求方，百度就是接收方。双方约定使用HTTP通信，于是浏览器讲请求数据发送给网站，网站再返回一些数据，最后浏览器渲染屏幕，最终看到图片视频
- 数据在浏览器和百度之间流转，但是支持中间有中转和接力，在HTTP中，中间人要遵从HTTP协议，不能打扰基本的数据传输，但是可以任意添加其他的东西
- 由此，**HTTP是一个在计算机世界专门在两点之间做数据传输的约定和规范**

### 超文本
- HTTP传输的内容就是超文本
- 文本：
  - 互联网早期只是简单字符文字，但现在文本可以扩为图片视频压缩包等，在HTTP中都是文本
- 超文本：
  - 超越了普通文件的文本，是文字图片视频等的混合体，最关键有超链接能从一个超文本跳转到另一个超文本
-  HTML就是最常见超文本，它只是纯文字文件，但内部使用了很多标签定义了图片视频等链接，再由浏览器解释得到最终的网页
- 由此，**HTTP是一个在计算机世界里专门在两点之间传输文字、图片、音频、视频等超文本数据的约定和规范**


## HTTP常见状态码
- 1XX: 类状态码，属于是提示信息，很少使用
- 2XX：服务器成功处理了客户端请求
  - 200：成功状态码
  - 204：响应头没有body数据，成功状态码
  - 206：响应的数据不是资源的全部，只是一部分
- 3XX：客户端请求的资源有变动，要客户端用新的URL重新发请求，也就是重定向
  - 301：永久重定向，表示请求的资源不存在，用新的url访问
  - 302：临时重定向，表示请求的资源还在，但用另一个url访问
  - 304：没有跳转含义，资源未修改，重定向缓存内容
- 4XX：客户端发送的报文有误，服务器无法处理
  - 400：客户端请求报文有误，但不知道错误原因
  - 403：服务器禁止访问资源，不是客户端请求错误
  - 404：请求资源在服务器不存在
- 5XX：客户端请求正确，但服务器内部出错
  - 500：和400相同，只是说明服务器报错，但不知道原因
  - 501：客户端请求功能还不支持
  - 502：服务器作为网关或代理时返回的错误，表示服务器自身正常，访问后端服务器出错
  - 503：服务器很忙，暂时无法响应客户端
  
## HTTP常见字段？
- HOST字段： 客户端发送请求时用来制定服务器的域名
- Content-Length字段：服务器返回数据时，表面本次回应的数据长度
  - HTTP是基于TCP传输的，使用TCP会沾包问题
  - HTTP协议通过设置回车符、换行符来作为HTTP header边界，用Content-Length字段作为HTTP body的边界来解决沾包问题
- Connection字段
  - 用于客户端要求服务器使用HTTP长链接机制，便于其他请求复用
    - 长链接特点：只要任意一段没有明确提出断开链接，就维持TCP链接状态
    - HTTP/1.1版本默认是长链接，但为兼容老版本，要指定Connnection首字段的值为Keep-Alive，开启该机制后链接不会中断。客户端发送另一请求时，会用同一链接持续到客户端或服务器提出断开链接
- Content-Type字段
  - 用于服务器回应时，告诉客户端数据的格式
  - 客户端请求时，用 Accept 字段声明自己可以接受的数据格式。
- Content-Encoding 字段
  - 说明数据的压缩方法，表面压缩的格式
  - 客户端请求，用 Accept-Encoding 字段声明自己可以接受的压缩方法
  